<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InfoSphäre</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
body {
    margin:0;
    font-family:'Roboto', sans-serif;
    background:#121212;
    color:#e0e0e0;
}
header {
    background:#1a1a1a;
    padding:15px 20px;
    font-size:1.8em;
    font-weight:700;
    color:#fff;
    text-align:center;
    border-bottom:1px solid #333;
}
#main {
    display:flex;
    flex-direction:row;
    min-height:calc(100vh - 60px);
}
#toc-container {
    width:300px;
    min-width:250px;
    max-width:350px;
    border-right:1px solid #333;
    padding:20px;
    overflow-y:auto;
    background:#1e1e1e;
}
#toc-container h2 {
    margin-top:0;
    font-size:1.2em;
    border-bottom:1px solid #555;
    padding-bottom:5px;
}
#toc {
    list-style:none;
    padding-left:0;
}
#toc li {
    margin:8px 0;
}
#toc li a {
    color:#6a11cb;
    text-decoration:none;
    font-weight:500;
}
#toc li a:hover {
    text-decoration:underline;
}
#content-container {
    flex:1;
    padding:30px;
    overflow-y:auto;
}
#searchInput {
    width:100%;
    padding:10px;
    border-radius:6px;
    border:none;
    margin-bottom:15px;
    font-size:16px;
}

/* Texte / Struktur */
.content-title {
    font-size:2em;
    margin-bottom:15px;
    color:#9c27b0;
}
.content-subtitle {
    font-size:1.4em;
    margin-top:25px;
    margin-bottom:10px;
    color:#d05ce3;
}
.content-text {
    line-height:1.7;
    margin-bottom:15px;
}
.content-blockquote {
    border-left:3px solid #6a11cb;
    padding-left:15px;
    font-style:italic;
    color:#ccc;
    margin:15px 0;
}
.content-code {
    background:#1e1e1e;
    border:1px solid #333;
    border-radius:6px;
    padding:10px;
    font-family:monospace;
    overflow-x:auto;
    margin:10px 0;
}
ul, ol {
    margin-left:20px;
    margin-bottom:15px;
}

/* Responsive */
@media(max-width:900px){
    #main {
        flex-direction:column;
    }
    #toc-container {
        width:100%;
        max-height:200px;
        border-right:none;
        border-bottom:1px solid #333;
    }
    #content-container {
        padding:15px;
    }
}
</style>
</head>
<body>
<header>InfoSphäre</header>
<div id="main">
    <div id="toc-container">
        <input type="text" id="searchInput" placeholder="Suche Themen...">
        <h2>Inhaltsverzeichnis</h2>
        <ul id="toc"></ul>
    </div>
    <div id="content-container">
        <p>Wähle ein Thema aus dem Inhaltsverzeichnis oder nutze die Suche.</p>
    </div>
</div>

<script>
// Datenbank: Nur Texte & Unterkapitel
const knowledgeData = [
  {
    "title": "Photosynthese",
    "type": "text",
    "content": `
<h2 class="content-subtitle">Definition</h2>
<p class="content-text">Photosynthese ist der Prozess, bei dem Pflanzen Lichtenergie in chemische Energie umwandeln.</p>
<h2 class="content-subtitle">Ablauf</h2>
<p class="content-text">Die Fotosynthese findet in Chloroplasten statt. Lichtenergie wird genutzt, um Wasser und Kohlendioxid in Glucose und Sauerstoff umzuwandeln.</p>
<ul>
<li>Lichtreaktion: Wasser wird gespalten, ATP entsteht.</li>
<li>Dunkelreaktion: CO₂ wird fixiert, Zucker entsteht.</li>
</ul>
<h2 class="content-subtitle">Bedeutung</h2>
<p class="content-text">Photosynthese liefert Energie für Pflanzen und somit für alle Lebewesen in der Nahrungskette.</p>
`
  },
  {
    "title": "Sonnensystem",
    "type": "text",
    "content": `
<h2 class="content-subtitle">Aufbau</h2>
<p class="content-text">Unser Sonnensystem besteht aus der Sonne, acht Planeten, Zwergplaneten, Monden und Asteroiden.</p>
<h2 class="content-subtitle">Planeten</h2>
<ol>
<li>Merkur</li>
<li>Venus</li>
<li>Erde</li>
<li>Mars</li>
<li>Jupiter</li>
<li>Saturn</li>
<li>Uranus</li>
<li>Neptun</li>
</ol>
<h2 class="content-subtitle">Besonderheiten</h2>
<p class="content-text content-blockquote">Jeder Planet hat einzigartige Eigenschaften und Atmosphären.</p>
`
  },
  {
    "title": "Python",
    "type": "text",
    "content": `
<h2 class="content-subtitle">Einführung</h2>
<p class="content-text">Python ist eine beliebte Programmiersprache.</p>
<h2 class="content-subtitle">Code Beispiele</h2>
<p class="content-code">print("Hallo Welt!")</p>
<p class="content-code">for i in range(5):<br>&nbsp;&nbsp;print(i)</p>
<h2 class="content-subtitle">Anwendungsbereiche</h2>
<ul>
<li>Webentwicklung</li>
<li>Data Science</li>
<li>Automatisierung</li>
<li>Künstliche Intelligenz</li>
</ul>
`
  }
];

// Alphabetisch sortieren
knowledgeData.sort((a,b)=>a.title.localeCompare(b.title,'de'));

// TOC generieren
function generateTOC(data) {
    const toc = document.getElementById('toc');
    toc.innerHTML = '';
    data.forEach(item=>{
        const li = document.createElement('li');
        const link = document.createElement('a');
        link.href="#";
        link.textContent = item.title;
        link.addEventListener('click',()=>showContent(item));
        li.appendChild(link);
        toc.appendChild(li);
    });
}

// Inhalt anzeigen
function showContent(item){
    const container = document.getElementById('content-container');
    container.innerHTML = '';
    const title = document.createElement('h1');
    title.textContent = item.title;
    title.className='content-title';
    container.appendChild(title);

    if(item.type==='text'){
        const div = document.createElement('div');
        div.innerHTML = item.content;
        container.appendChild(div);
    }
}

// Suche filtert TOC
function setupSearch(data){
    const input = document.getElementById('searchInput');
    input.addEventListener('input',(e)=>{
        const query = e.target.value.toLowerCase();
        const filtered = data.filter(item=>{
            return item.title.toLowerCase().includes(query) || 
                   item.content.toLowerCase().includes(query);
        });
        if(filtered.length===0){
            document.getElementById('toc').innerHTML='<li class="no-results">Keine Ergebnisse</li>';
            document.getElementById('content-container').innerHTML='<p class="no-results">Keine Inhalte gefunden.</p>';
        } else {
            generateTOC(filtered);
        }
    });
}

// Initialisierung
generateTOC(knowledgeData);
setupSearch(knowledgeData);
</script>
</body>
</html>
